---
name: kube-node

packages:
- common
- kubernetes

templates:
  kube-proxy_ctl.erb: bin/kube-proxy_ctl
  kubelet_ctl.erb: bin/kubelet_ctl
  node-config.yml.erb: config/node-config.yaml

properties:
  kube.cluster.dns_address:
    description: The cluster dns server address to inject into containers
    default: 10.254.10.254

  kube.cluster.dns_domain:
    description: Domain to use for cluster local DNS lookups
    default: cluster.local

  kube.node.manifests_dir:
    description: Directory containing manifest to run at startup
    default: /var/vcap/jobs/kube-node/config/manifests

  kube.node.register_schedulable:
    description: Indicate whether or not this kubelet is a schedulable node
    default: true
